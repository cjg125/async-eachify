{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["function asyncEachify(queue = [], callback = () => {}, options = {}) {\n  if (!(this instanceof asyncEachify)) {\n    return new asyncEachify(queue, callback, options)\n  }\n\n  Object.assign(this, {\n    queue,\n    callback,\n    index: 0,\n    len: queue.length,\n    async: false,\n    interval: 0\n  }, options)\n\n  this.next()\n}\n\nasyncEachify.prototype.next = function () {\n  let {\n    index,\n    len\n  } = this\n\n  if (index >= len) {\n    return\n  }\n\n  let loop = {\n    index,\n    len,\n    value: this.queue[index],\n    first: index === 0,\n    last: index === len - 1,\n  }\n\n  this.index += 1\n  if (this.async) {\n    setTimeout(() => this.callback(loop, () => this.next()), this.interval)\n    return\n  }\n  this.callback(loop, () => this.next())\n}\n\nexport default asyncEachify"],"names":["asyncEachify","queue","callback","options","length","next","prototype","index","len","loop","async","interval"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,YAAT,GAAqE;MAA/CC,KAA+C,uEAAvC,EAAuC;MAAnCC,QAAmC,uEAAxB,YAAM,EAAkB;MAAdC,OAAc,uEAAJ,EAAI;;MAC/D,EAAE,gBAAgBH,YAAlB,CAAJ,EAAqC;WAC5B,IAAIA,YAAJ,CAAiBC,KAAjB,EAAwBC,QAAxB,EAAkCC,OAAlC,CAAP;;;WAGY,IAAd,EAAoB;gBAAA;sBAAA;WAGX,CAHW;SAIbF,MAAMG,MAJO;WAKX,KALW;cAMR;GANZ,EAOGD,OAPH;;OASKE,IAAL;;;AAGFL,aAAaM,SAAb,CAAuBD,IAAvB,GAA8B,YAAY;;;MAEtCE,KAFsC,GAIpC,IAJoC,CAEtCA,KAFsC;MAGtCC,GAHsC,GAIpC,IAJoC,CAGtCA,GAHsC;;;MAMpCD,SAASC,GAAb,EAAkB;;;;MAIdC,OAAO;gBAAA;YAAA;WAGF,KAAKR,KAAL,CAAWM,KAAX,CAHE;WAIFA,UAAU,CAJR;UAKHA,UAAUC,MAAM;GALxB;;OAQKD,KAAL,IAAc,CAAd;MACI,KAAKG,KAAT,EAAgB;eACH;aAAM,MAAKR,QAAL,CAAcO,IAAd,EAAoB;eAAM,MAAKJ,IAAL,EAAN;OAApB,CAAN;KAAX,EAAyD,KAAKM,QAA9D;;;OAGGT,QAAL,CAAcO,IAAd,EAAoB;WAAM,MAAKJ,IAAL,EAAN;GAApB;CAvBF,CA0BA;;;;"}